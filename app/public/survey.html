<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>survey</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.5.0.min.js"
      integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
  </head>
  <body style="background-color: bisque;">
    <h1>Friend finder survey</h1>
    <br />
    <form style="padding: 30px;" action="api/friends" method="POST">
      <h4>Question 1</h4>
      <h3>Do you like cats?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q1">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />
      <h4>Question 2</h4>
      <h3>Do you have a sense of humor?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q2">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />
      <h4>Question 3</h4>
      <h3>Do you like to travel?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q3">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />

      <h4>Question 4</h4>
      <h3>How much do you like coffee?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q4">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />

      <h4>Question 5</h4>
      <h3>Do you like to crochet?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q5">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />

      <h4>Question 6</h4>
      <h3>Do you like cheeseburgers?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q6">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />

      <h4>Question 7</h4>
      <h3>Do you watch reality TV?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q7">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />

      <h4>Question 8</h4>
      <h3>Do you like lucha libre?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q8">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />

      <h4>Question 9</h4>
      <h3>Do you like puzzles?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q9">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />

      <h4>Question 10</h4>
      <h3>Do you wear tye-dye?</h3>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1= Not at all and 5= Absolutely!</label
        >
        <select class="custom-select mr-sm-2" id="q10">
          <option selected>Choose...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <br />
      <button type="submit" class="fa fa-users btn btn-secondary" id="submit">
        Find my new friend!
      </button>
    </form>
    <script type="text/javascript">
      $("#submit").on("click", function () {
        function validateForm() {
          var isValid = true;
          $(".form-control").each(function () {
            if ($(this).val() === "") isValid = false;
          });
          $(".custom-select").each(function () {
            if ($(this).val() === "") isValid = false;
          });
          return isValid;
        }
        if (validateForm() === true) {
          var userData = {
            name: $("#name").val(),
            photo: $("#photo").val(),
            scores: [
              $("q1").val(),
              $("q2").val(),
              $("q3").val(),
              $("q4").val(),
              $("q5").val(),
              $("q6").val(),
              $("q7").val(),
              $("q8").val(),
              $("q9").val(),
              $("q10").val(),
            ],
          };
          var currentURL = window.location.origin;
          $.post(currentURL + "/api/friends", userData, function (data) {
            $("#matchName").text(data.name);
            $("#matchImg").attr("src", data.photo);
            $("#resultsModal").modal("toggle");
          });
        } else {
          alert("Please fill out all fields before submitting!");
        }
        return false;
      });
    </script>
  </body>
</html>
